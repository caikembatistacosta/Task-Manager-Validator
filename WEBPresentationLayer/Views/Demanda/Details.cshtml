@using Entities.Enums
@model WEBPresentationLayer.Models.Demanda.DemandaDetailsViewModel

@{
    ViewData["Title"] = "Details";
}

    @if (Model.StatusDemanda == StatusDemanda.Aberto)
{
    using (Html.BeginForm("ChangeStatusInProgress", "Demanda", Model))
    {
        <div class="container">
            <h1>Detalhes</h1>

            <div>

                <hr />
                <dl class="row">
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.ID)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.ID)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.DataInicio)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.DataInicio)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.DataFim)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.DataFim)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Nome)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Nome)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.DescricaoCurta)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.DescricaoCurta)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.DescricaoDetalhada)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.DescricaoDetalhada)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.StatusDemanda)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.StatusDemanda)
                    </dd>

                </dl>
            </div>
            <div>
                <input type="submit" class="btn btn-primary btn-xl text-uppercase" value="Deseja aceitar a demanda?" />
                @Html.ActionLink("Editar", "Edit", new { id = Model.ID }) |
                <a asp-action="Index">voltar a lista de demandas</a>
            </div>
        </div>
    }
}
else if (Model.StatusDemanda == StatusDemanda.Andamento)
{
    @using (Html.BeginForm("ChangeStatusInFinished", "Demanda", @Model, FormMethod.Post, false, new { enctype = "multipart/form-data" }))
    {
        <h1>Detalhes</h1>
        <div>

            <hr />
            <dl class="row">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.ID)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.ID)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.DataInicio)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.DataInicio)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.DataFim)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.DataFim)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Nome)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Nome)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.DescricaoCurta)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.DescricaoCurta)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.DescricaoDetalhada)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.DescricaoDetalhada)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.StatusDemanda)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.StatusDemanda)
                </dd>
                <dd class="col-sm-10">
                    <input name="formFile" type="file" />
                </dd>


            </dl>
        </div>
        <div>
            <input type="submit" class="btn btn-primary btn-xl text-uppercase" value="Deseja finalizar a demanda?" />
            @Html.ActionLink("Editar", "Edit", new { id = Model.ID }) |
            <a asp-action="Index">Voltar a lista de demandas</a>
        </div>
    }
}
else
{
    @using (Html.BeginForm("ChangeStatusInFinished", "Demanda", @Model))
    {
        <div class="container">
            <h1>Detalhes</h1>
            <div>
                <hr />
                <dl class="row">
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.ID)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.ID)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.DataInicio)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.DataInicio)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.DataFim)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.DataFim)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Nome)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Nome)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.DescricaoCurta)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.DescricaoCurta)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.DescricaoDetalhada)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.DescricaoDetalhada)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.StatusDemanda)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.StatusDemanda)
                    </dd>

                </dl>
            </div>
            <div>
                @Html.ActionLink("Editar", "Edit", new { id = Model.ID }) |
                <a asp-action="Index">Voltar a lista de demandas</a>
               
            </div>
        </div>
    }
}

